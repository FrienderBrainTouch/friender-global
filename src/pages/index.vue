<template>
  <div class="bg-white">
    <!-- Hero Section -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
      <div class="text-center">
        <!-- ë©”ì¸ íƒ€ì´í‹€: AI ê¸°ë°˜ ì°½ì˜ êµìœ¡ìœ¼ë¡œ í•™ìŠµì˜ íž˜ì„ í‚¤ìš°ì„¸ìš” -->
        <h1 class="text-4xl lg:text-6xl font-bold text-friender-darkest mb-6">
          {{ t('hero_title') }}
        </h1>
        <!-- íšŒì „ í…ìŠ¤íŠ¸: ì§€ê¸ˆ ë°”ë¡œ [Dream Path/Inno Works/AI Storybook] ì´ìš©í•´ ë³´ì„¸ìš”! -->
        <div
          class="text-2xl lg:text-4xl font-bold mb-8 flex items-center justify-center flex-wrap gap-x-2"
        >
          <span class="text-gray-600">{{ t('hero_rotating_prefix') }}</span> <!-- ì§€ê¸ˆ ë°”ë¡œ -->
          <span class="rotating-text-container inline-block">
            <span
              v-for="(service, index) in services"
              :key="index"
              class="rotating-text"
              :class="{ active: currentServiceIndex === index }"
            >
              {{ t(service) }} <!-- Dream Path / Inno Works / AI Storybook -->
            </span>
          </span>
          <span class="text-gray-600">{{ t('hero_rotating_suffix') }}</span> <!-- ì´ìš©í•´ ë³´ì„¸ìš”! -->
        </div>
        <!-- ë¶€ì œëª©: í”„ëžœë”ëŠ” í•™ìŠµì„ ë”ìš± í¥ë¯¸ë¡­ê³ ... -->
        <p class="text-xl text-gray-700 mb-8 max-w-3xl mx-auto leading-relaxed">
          {{ t('hero_subtitle') }}
        </p>

        <!-- ì„œë¹„ìŠ¤ ì‡¼ì¼€ì´ìŠ¤: Dream Path, Inno Works, AI Storybook -->
        <div class="my-16">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div
              v-for="(service, index) in serviceShowcase"
              :key="index"
              class="service-showcase-card text-center p-8 rounded-lg hover:shadow-xl transition-shadow duration-300"
            >
              <div class="text-7xl mb-6">{{ service.icon }}</div>
              <h3 class="text-2xl font-semibold text-friender-darkest mb-3">
                {{ t(service.titleKey) }} <!-- Dream Path / Inno Works / AI Storybook -->
              </h3>
              <p class="text-base text-gray-600">
                {{ t(service.descKey) }} <!-- ê° ì„œë¹„ìŠ¤ ì„¤ëª… -->
              </p>
            </div>
          </div>
        </div>

        <!-- CTA ë²„íŠ¼: í”„ë¡œê·¸ëž¨ ë‘˜ëŸ¬ë³´ê¸° / ìž‘ë™ ë°©ì‹ ë³´ê¸° -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <NuxtLink
            to="/dreamPath"
            class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-friender-primary hover:bg-friender-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-friender-primary transition-colors"
          >
            {{ t('explore_programs') }} <!-- í”„ë¡œê·¸ëž¨ ë‘˜ëŸ¬ë³´ê¸° -->
          </NuxtLink>
          <NuxtLink
            to="#how-it-works"
            class="inline-flex items-center justify-center px-8 py-3 border-2 border-friender-primary text-base font-medium rounded-md text-friender-primary hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-friender-primary transition-colors"
          >
            {{ t('see_how_it_works') }} <!-- ìž‘ë™ ë°©ì‹ ë³´ê¸° -->
          </NuxtLink>
        </div>
      </div>
    </div>

    <!-- ê°€ì¹˜ ê¸°ë‘¥ ì„¹ì…˜: AI ê¸°ë°˜ í•™ìŠµ, ì°½ì˜ì  í‘œí˜„, ê¸€ë¡œë²Œ ì ‘ê·¼ì„± ë“± -->
    <div class="bg-gray-50 py-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6">
          <div
            v-for="(feature, index) in features"
            :key="index"
            class="bg-white rounded-lg p-6 text-center shadow-sm hover:shadow-md transition-shadow"
          >
            <div class="text-5xl mb-4">{{ feature.icon }}</div>
            <h3 class="text-lg font-semibold text-friender-darkest mb-2">
              {{ t(feature.titleKey) }} <!-- AI ê¸°ë°˜ í•™ìŠµ / ì°½ì˜ì  í‘œí˜„ / ê¸€ë¡œë²Œ ì ‘ê·¼ì„± / êµì‚¬ ì—­ëŸ‰ ê°•í™” / ì§€ì† ê°€ëŠ¥í•œ êµìœ¡ -->
            </h3>
            <p class="text-sm text-gray-600">{{ t(feature.descKey) }} <!-- ê° ê°€ì¹˜ ì„¤ëª… --></p>
          </div>
        </div>
      </div>
    </div>

    <!-- AI êµìœ¡ í”„ë¡œê·¸ëž¨ ì„¹ì…˜ -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
      <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-4xl font-bold text-friender-darkest mb-4">
          {{ t('programs_title') }} <!-- AI êµìœ¡ í”„ë¡œê·¸ëž¨ -->
        </h2>
        <p class="text-lg text-gray-700 max-w-2xl mx-auto">
          {{ t('programs_subtitle') }} <!-- í”„ë¡œê·¸ëž¨ ë¶€ì œëª© -->
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div
          v-for="(program, index) in programs"
          :key="index"
          class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow"
        >
          <div class="text-4xl mb-4">{{ program.icon }}</div>
          <h3 class="text-xl font-semibold text-friender-darkest mb-3">
            {{ t(program.titleKey) }} <!-- AI í† ë¡  í”„ë¡œê·¸ëž¨ / AI ë™í™”ì±… í”„ë¡œê·¸ëž¨ / ê°œì¸ ë§žì¶¤ í•™ìŠµ -->
          </h3>
          <p class="text-gray-600 mb-6">{{ t(program.descKey) }} <!-- ê° í”„ë¡œê·¸ëž¨ ì„¤ëª… --></p>
          <NuxtLink
            :to="program.link"
            class="inline-flex items-center text-friender-primary font-medium hover:text-friender-dark transition-colors"
          >
            {{ t('learn_more') }} <!-- ë” ì•Œì•„ë³´ê¸° -->
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </NuxtLink>
        </div>
      </div>
    </div>

    <!-- ìž‘ë™ ë°©ì‹ ì„¹ì…˜: 4ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ -->
    <div id="how-it-works" class="bg-gray-50 py-16 lg:py-24">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-friender-darkest text-center mb-12">
          {{ t('how_it_works_title') }} <!-- ì–´ë–»ê²Œ ìž‘ë™í•˜ë‚˜ìš”? -->
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div v-for="(step, index) in howItWorks" :key="index" class="text-center">
            <div
              class="w-16 h-16 bg-friender-primary text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4"
            >
              {{ index + 1 }}
            </div>
            <h3 class="text-lg font-semibold text-friender-darkest mb-2">
              {{ t(step.titleKey) }} <!-- 1ë‹¨ê³„ ì œëª© / 2ë‹¨ê³„ ì œëª© / 3ë‹¨ê³„ ì œëª© / 4ë‹¨ê³„ ì œëª© -->
            </h3>
            <p class="text-gray-600">{{ t(step.descKey) }} <!-- ê° ë‹¨ê³„ ì„¤ëª… --></p>
          </div>
        </div>
      </div>
    </div>

    <!-- í›„ê¸° ì„¹ì…˜ -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
      <h2 class="text-3xl lg:text-4xl font-bold text-friender-darkest text-center mb-12">
        {{ t('testimonials_title') }} <!-- ì‚¬ìš©ìž í›„ê¸° -->
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div
          v-for="(testimonial, index) in testimonials"
          :key="index"
          class="bg-gray-50 rounded-lg p-8"
        >
          <p class="text-gray-700 mb-6 italic text-lg">"{{ t(testimonial.textKey) }}"</p> <!-- í›„ê¸° ë‚´ìš© -->
          <p class="text-friender-dark font-semibold">â€” {{ t(testimonial.authorKey) }}</p> <!-- ìž‘ì„±ìž -->
        </div>
      </div>
    </div>

    <!-- Value Cycle Illustration -->
    <div class="bg-gray-50 py-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-center items-center">
          <div class="relative w-64 h-64">
            <!-- Central Circle -->
            <div class="absolute inset-0 flex items-center justify-center">
              <div
                class="w-32 h-32 bg-friender-primary text-white rounded-full flex items-center justify-center shadow-lg"
              >
                <div class="text-center">
                  <div class="text-2xl mb-1">ðŸ‘¥</div>
                  <div class="text-sm font-bold">Prander</div>
                </div>
              </div>
            </div>
            <!-- Value Labels -->
            <div
              v-for="(value, index) in values"
              :key="index"
              class="absolute w-20 h-20 bg-friender-dark text-white rounded-full flex items-center justify-center text-xs font-medium shadow-lg text-center px-2"
              :style="getValuePosition(index)"
            >
              {{ t(value) }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CTA(í–‰ë™ ìœ ë„) ì„¹ì…˜: í•™êµ/êµì‚¬/íŒŒíŠ¸ë„ˆ -->
    <div class="bg-friender-primary py-16 lg:py-24">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl lg:text-4xl font-bold text-white mb-4">
          {{ t('cta_title') }} <!-- êµìœ¡ì„ ë³€í™”ì‹œí‚¬ ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”? -->
        </h2>
        <p class="text-xl text-green-50 mb-8 max-w-2xl mx-auto">
          {{ t('cta_subtitle') }} <!-- í”„ëžœë”ì˜ AI êµìœ¡ í”Œëž«í¼ì„ ì‚¬ìš©í•˜ëŠ”... -->
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <NuxtLink
            to="/contact"
            class="inline-flex items-center justify-center px-8 py-3 border-2 border-white text-base font-medium rounded-md text-white hover:bg-white hover:text-friender-primary transition-colors"
          >
            {{ t('cta_schools') }} - {{ t('cta_schedule_demo') }} <!-- í•™êµìš© - ë°ëª¨ ì˜ˆì•½ -->
          </NuxtLink>
          <NuxtLink
            to="/contact"
            class="inline-flex items-center justify-center px-8 py-3 border-2 border-white text-base font-medium rounded-md text-white hover:bg-white hover:text-friender-primary transition-colors"
          >
            {{ t('cta_teachers') }} - {{ t('cta_start_trial') }} <!-- êµì‚¬ìš© - ë¬´ë£Œ ì²´í—˜ ì‹œìž‘ -->
          </NuxtLink>
          <NuxtLink
            to="/contact"
            class="inline-flex items-center justify-center px-8 py-3 border-2 border-white text-base font-medium rounded-md text-white hover:bg-white hover:text-friender-primary transition-colors"
          >
            {{ t('cta_partners') }} <!-- íŒŒíŠ¸ë„ˆìš© -->
          </NuxtLink>
        </div>
      </div>
    </div>

    <!-- í•´ì‹œíƒœê·¸ ì„¹ì…˜: ì˜ˆë¹„ì‚¬íšŒì ê¸°ì—…, ë²¤ì²˜ê¸°ì—…, ê¸°ì—…ë¶€ì„¤ ì—°êµ¬ì†Œ -->
    <div class="bg-white py-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-wrap justify-center gap-3">
          <span
            v-for="(tag, index) in hashtags"
            :key="index"
            class="px-4 py-2 bg-green-50 text-friender-dark rounded-full text-sm font-medium border border-green-100"
          >
            {{ t(tag) }} <!-- #ì˜ˆë¹„ì‚¬íšŒì ê¸°ì—… / #ë²¤ì²˜ê¸°ì—… / #ê¸°ì—…ë¶€ì„¤ ì—°êµ¬ì†Œ -->
          </span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useI18n } from 'vue-i18n';
import { ref, onMounted, onBeforeUnmount } from 'vue';

const { t } = useI18n();

// ì„œë¹„ìŠ¤ ëª©ë¡
const services = ['dreamPath', 'innoWorks', 'story'];
const currentServiceIndex = ref(0);
let intervalId: NodeJS.Timeout | null = null;

// ì„œë¹„ìŠ¤ ì‡¼ì¼€ì´ìŠ¤ (ì• í”Œ ìŠ¤íƒ€ì¼)
const serviceShowcase = [
  {
    icon: 'ðŸ’¬',
    titleKey: 'dreamPath',
    descKey: 'program_debate_desc',
  },
  {
    icon: 'ðŸŽ¯',
    titleKey: 'innoWorks',
    descKey: 'program_learning_desc',
  },
  {
    icon: 'ðŸ“–',
    titleKey: 'story',
    descKey: 'program_storybook_desc',
  },
];

// 3ì´ˆë§ˆë‹¤ ì„œë¹„ìŠ¤ ë³€ê²½
onMounted(() => {
  intervalId = setInterval(() => {
    currentServiceIndex.value = (currentServiceIndex.value + 1) % services.length;
  }, 3000);
});

onBeforeUnmount(() => {
  if (intervalId) {
    clearInterval(intervalId);
  }
});

const features = [
  {
    icon: 'ðŸ¤–',
    titleKey: 'ai_learning',
    descKey: 'ai_learning_desc',
  },
  {
    icon: 'âœ¨',
    titleKey: 'creative_expression',
    descKey: 'creative_expression_desc',
  },
  {
    icon: 'ðŸŒ',
    titleKey: 'global_access',
    descKey: 'global_access_desc',
  },
  {
    icon: 'ðŸ‘¨â€ðŸ«',
    titleKey: 'teacher_empowerment',
    descKey: 'teacher_empowerment_desc',
  },
  {
    icon: 'ðŸŒ±',
    titleKey: 'sustainable_edu',
    descKey: 'sustainable_edu_desc',
  },
];

const programs = [
  {
    icon: 'ðŸ’¬',
    titleKey: 'program_debate_title',
    descKey: 'program_debate_desc',
    link: '/dreamPath',
  },
  {
    icon: 'ðŸ“–',
    titleKey: 'program_storybook_title',
    descKey: 'program_storybook_desc',
    link: '/story',
  },
  {
    icon: 'ðŸŽ¯',
    titleKey: 'program_learning_title',
    descKey: 'program_learning_desc',
    link: '/innoWorks',
  },
];

const howItWorks = [
  {
    titleKey: 'step1_title',
    descKey: 'step1_desc',
  },
  {
    titleKey: 'step2_title',
    descKey: 'step2_desc',
  },
  {
    titleKey: 'step3_title',
    descKey: 'step3_desc',
  },
  {
    titleKey: 'step4_title',
    descKey: 'step4_desc',
  },
];

const testimonials = [
  {
    textKey: 'testimonial1_text',
    authorKey: 'testimonial1_author',
  },
  {
    textKey: 'testimonial2_text',
    authorKey: 'testimonial2_author',
  },
];

const hashtags = ['hashtag_social', 'hashtag_venture', 'hashtag_research'];

const values = ['ai_technology', 'education', 'global_impact'];

const getValuePosition = (index: number) => {
  const positions = [
    { top: '10%', left: '50%', transform: 'translateX(-50%)' },
    { top: '50%', right: '10%', transform: 'translateY(-50%)' },
    { bottom: '10%', left: '50%', transform: 'translateX(-50%)' },
  ];
  return positions[index] || {};
};
</script>

<style scoped>
.rotating-text-container {
  position: relative;
  display: inline-block;
  min-width: 250px;
  height: 1.2em;
}

.rotating-text {
  position: absolute;
  left: 0;
  right: 0;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s ease-in-out;
  color: #395e00;
  background: linear-gradient(135deg, #395e00 0%, #28b485 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.rotating-text.active {
  opacity: 1;
  transform: translateY(0);
}

@media (max-width: 768px) {
  .rotating-text-container {
    min-width: 180px;
  }
}

/* Service Showcase - Grid Layout */
.service-showcase-card {
  background: linear-gradient(to bottom, #ffffff, #f9fafb);
  border: 1px solid #e5e7eb;
}

.service-showcase-card:hover {
  background: linear-gradient(to bottom, #f9fafb, #ffffff);
}

@media (max-width: 768px) {
  .service-showcase-card .text-7xl {
    font-size: 4rem;
  }
}
</style>
